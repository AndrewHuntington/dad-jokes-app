{"version":3,"sources":["Ranker.js","Joke.js","Main.js","App.js","reportWebVitals.js","index.js"],"names":["Wrapper","styled","div","Rank","span","Ranker","props","handleUpVote","bind","handleDownVote","this","rank","vote","id","className","onClick","style","borderColor","getColor","Component","LI","li","Text","EmojiArea","Joke","text","getEmoji","LoadingIcon","i","Main","localStorage","jokes0811","state","jokes","JSON","parse","isLoaded","handleClick","getJokes","err","console","error","a","axios","get","headers","Accept","response","data","joke","status","Error","checkForDuplicateJokes","setState","st","confirmLoaded","setItem","stringify","direction","filter","j","_","sortBy","map","reverse","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4ac183d7.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport styled from \"styled-components/macro\";\n\nconst Wrapper = styled.div`\n  min-width: 20%;\n  margin: 0;\n  padding: 1em 1em;\n`;\n\nconst Rank = styled.span`\n  display: inline-block;\n  text-align: center;\n  margin: 0 0.5em;\n\n  .Ranker-votes {\n    box-shadow: 10px 10px 14px -3px rgba(0, 0, 0, 0.75);\n    -webkit-box-shadow: 10px 10px 14px -3px rgba(0, 0, 0, 0.75);\n    -moz-box-shadow: 10px 10px 14px -3px rgba(0, 0, 0, 0.75);\n\n    border: 3px solid red;\n    border-radius: 50%;\n    line-height: 50px;\n    width: 50px;\n    height: 50px;\n\n    font-weight: 300;\n    font-size: 1.2em;\n  }\n`;\n\nexport default class Ranker extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleUpVote = this.handleUpVote.bind(this);\n    this.handleDownVote = this.handleDownVote.bind(this);\n  }\n\n  getColor() {\n    if (this.props.rank >= 15) {\n      return \"lime\";\n    } else if (this.props.rank >= 10) {\n      return \"yellowgreen\";\n    } else if (this.props.rank >= 5) {\n      return \"orange\";\n    } else {\n      return \"red\";\n    }\n  }\n\n  handleUpVote() {\n    this.props.vote(this.props.id, \"up\");\n  }\n\n  handleDownVote() {\n    this.props.vote(this.props.id, \"down\");\n  }\n\n  render() {\n    return (\n      <Wrapper className=\"Ranker\">\n        <i className=\"fas fa-arrow-up\" onClick={this.handleUpVote}></i>\n        <Rank>\n          <p className=\"Ranker-votes\" style={{ borderColor: this.getColor() }}>\n            {this.props.rank}\n          </p>\n        </Rank>\n        <i className=\"fas fa-arrow-down\" onClick={this.handleDownVote}></i>\n      </Wrapper>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Ranker from \"./Ranker\";\nimport styled from \"styled-components/macro\";\nimport \"animate.css\";\n\nconst LI = styled.li`\n  display: flex;\n  align-items: center;\n\n  color: rgba(0, 0, 0, 0.7);\n  background-color: white;\n  border: 1px solid lightgrey;\n  list-style-type: none;\n`;\n\nconst Text = styled.span`\n  font-size: 0.75rem;\n  padding: 0.5em;\n  text-align: left;\n  margin: 0;\n  min-width: 65%;\n  line-height: 1.5em;\n`;\n\nconst EmojiArea = styled.div`\n  display: flex;\n  justify-content: center;\n  min-width: 15%;\n\n  .em-svg {\n    transform: scale(3.5);\n    height: 1rem;\n    width: 1rem;\n    margin: 0;\n    padding: 0;\n  }\n\n  :hover {\n    animation: swing;\n    animation-duration: 1s;\n  }\n`;\n\nexport default class Joke extends Component {\n  getEmoji() {\n    if (this.props.rank >= 15) {\n      return \"em-svg em-rolling_on_the_floor_laughing\";\n    } else if (this.props.rank >= 10) {\n      return \"em-svg em-face_with_hand_over_mouth\";\n    } else if (this.props.rank >= 5) {\n      return \"em-svg em-face_with_rolling_eyes\";\n    } else {\n      return \"em-svg em-angry\";\n    }\n  }\n\n  render() {\n    return (\n      <LI id={this.props.id} rank={this.props.rank}>\n        <Ranker\n          rank={this.props.rank}\n          vote={this.props.vote}\n          id={this.props.id}\n        />\n        <Text>{this.props.text}</Text>\n        <EmojiArea>\n          <i className={this.getEmoji()}></i>\n        </EmojiArea>\n      </LI>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Joke from \"./Joke\";\nimport \"./Main.css\";\nimport axios from \"axios\";\nimport _ from \"lodash\";\nimport styled from \"styled-components/macro\";\n\nconst API_URL = \"https://icanhazdadjoke.com/\";\n\nconst LoadingIcon = styled.i`\n  font-size: 3rem;\n  animation: spin 1s linear infinite;\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg) scale(1);\n    }\n    50% {\n      transform: rotate(180deg) scale(1.5);\n    }\n    100% {\n      transform: rotate(360deg) scale(1);\n    }\n  }\n`;\n\nexport default class Main extends Component {\n  constructor(props) {\n    super(props);\n    if (localStorage.jokes0811) {\n      this.state = {\n        jokes: JSON.parse(localStorage.jokes0811),\n        isLoaded: true,\n      };\n    } else {\n      this.state = {\n        jokes: [],\n        isLoaded: false,\n      };\n    }\n\n    this.vote = this.vote.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.state.isLoaded) return;\n\n    try {\n      this.getJokes();\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  async getJokes() {\n    for (let i = 0; i < 10; i++) {\n      const response = await axios.get(`${API_URL}`, {\n        headers: {\n          Accept: \"application/json\",\n          \"User-Agent\": \"https://andrewhuntington.github.io/dad-jokes-app/\",\n        },\n      });\n\n      const { id, joke, status, rank = 0 } = response.data;\n      if (status !== 200) throw new Error(`Status: ${status}`);\n\n      let flag = this.checkForDuplicateJokes(id);\n      if (flag) {\n        i--;\n        flag = false;\n      } else {\n        this.setState((st) => ({ jokes: [...st.jokes, { id, joke, rank }] }));\n      }\n    }\n\n    this.confirmLoaded();\n  }\n\n  confirmLoaded() {\n    this.setState({ isLoaded: true });\n    localStorage.setItem(\"jokes0811\", JSON.stringify(this.state.jokes));\n  }\n\n  handleClick() {\n    this.getJokes();\n  }\n\n  // Check that all ids in this.state.jokes are unique\n  // If a duplicate is found, it must make another request for a new joke\n  checkForDuplicateJokes(id) {\n    for (const joke of this.state.jokes) {\n      if (id === joke.id) return true;\n    }\n    return false;\n  }\n\n  vote(id, direction) {\n    const joke = this.state.jokes.filter((j) => j.id === id)[0];\n    direction === \"up\" ? (joke.rank += 1) : (joke.rank -= 1);\n    this.setState((st) => ({ jokes: [...st.jokes] }));\n    localStorage.setItem(\"jokes0811\", JSON.stringify(this.state.jokes));\n  }\n\n  render() {\n    // Uses lodash to sort components by their rank (vote totals)\n    const jokes = _.sortBy(this.state.jokes, [\"rank\"])\n      .map((j) => (\n        <Joke\n          id={j.id}\n          text={j.joke}\n          key={j.id}\n          rank={j.rank}\n          vote={this.vote}\n        ></Joke>\n      ))\n      .reverse();\n\n    return (\n      <>\n        {this.state.isLoaded ? (\n          <div className=\"Main\">\n            <div className=\"Main-sidebar\">\n              <h1>\n                Dad <span className=\"Main-thin-text\">Jokes</span>\n              </h1>\n              <div className=\"Main-smiley\">\n                <i className=\"em-svg em-joy\"></i>\n              </div>\n\n              <button className=\"Main-button\" onClick={this.handleClick}>\n                New Jokes\n              </button>\n            </div>\n\n            <div className=\"Main-jokelist\">\n              <ul>{jokes}</ul>\n            </div>\n          </div>\n        ) : (\n          <div className=\"Main-loading\">\n            <h2>Loading...</h2>\n            <LoadingIcon className=\"far fa-grin-squint-tears\"></LoadingIcon>\n          </div>\n        )}\n      </>\n    );\n  }\n}\n","import Main from \"./Main\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Main></Main>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}