(this["webpackJsonpdadjokes-app"]=this["webpackJsonpdadjokes-app"]||[]).push([[0],{38:function(e,t,n){},45:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),s=n(26),o=n.n(s),r=(n(38),n(27)),c=n(10),d=n.n(c),l=n(15),h=n(28),p=n(5),j=n(6),u=n(4),k=n(8),m=n(7),f=n(3),b=n(0),g=f.a.div.withConfig({displayName:"Ranker__Wrapper",componentId:"sc-35zzc-0"})(["min-width:20%;margin:0;padding:1em 1em;"]),x=f.a.span.withConfig({displayName:"Ranker__Rank",componentId:"sc-35zzc-1"})(["display:inline-block;text-align:center;margin:0 0.5em;.Ranker-votes{box-shadow:10px 10px 14px -3px rgba(0,0,0,0.75);-webkit-box-shadow:10px 10px 14px -3px rgba(0,0,0,0.75);-moz-box-shadow:10px 10px 14px -3px rgba(0,0,0,0.75);border:3px solid red;border-radius:50%;line-height:50px;width:50px;height:50px;font-weight:300;font-size:1.2em;}"]),v=function(e){Object(k.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).handleUpVote=a.handleUpVote.bind(Object(u.a)(a)),a.handleDownVote=a.handleDownVote.bind(Object(u.a)(a)),a}return Object(j.a)(n,[{key:"getColor",value:function(){return this.props.rank>=15?"lime":this.props.rank>=10?"yellowgreen":this.props.rank>=5?"orange":"red"}},{key:"handleUpVote",value:function(){this.props.vote(this.props.id,"up")}},{key:"handleDownVote",value:function(){this.props.vote(this.props.id,"down")}},{key:"render",value:function(){return Object(b.jsxs)(g,{className:"Ranker",children:[Object(b.jsx)("i",{className:"fas fa-arrow-up",onClick:this.handleUpVote}),Object(b.jsx)(x,{children:Object(b.jsx)("p",{className:"Ranker-votes",style:{borderColor:this.getColor()},children:this.props.rank})}),Object(b.jsx)("i",{className:"fas fa-arrow-down",onClick:this.handleDownVote})]})}}]),n}(a.Component),O=(n(44),f.a.li.withConfig({displayName:"Joke__LI",componentId:"sc-178sis5-0"})(["display:flex;align-items:center;color:rgba(0,0,0,0.7);background-color:white;border:1px solid lightgrey;list-style-type:none;"])),y=f.a.span.withConfig({displayName:"Joke__Text",componentId:"sc-178sis5-1"})(["font-size:0.75rem;padding:0.5em;text-align:left;margin:0;min-width:65%;line-height:1.5em;"]),w=f.a.div.withConfig({displayName:"Joke__EmojiArea",componentId:"sc-178sis5-2"})(["display:flex;justify-content:center;min-width:15%;.em-svg{transform:scale(3.5);height:1rem;width:1rem;margin:0;padding:0;}:hover{animation:swing;animation-duration:1s;}"]),N=function(e){Object(k.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"getEmoji",value:function(){return this.props.rank>=15?"em-svg em-rolling_on_the_floor_laughing":this.props.rank>=10?"em-svg em-face_with_hand_over_mouth":this.props.rank>=5?"em-svg em-face_with_rolling_eyes":"em-svg em-angry"}},{key:"render",value:function(){return Object(b.jsxs)(O,{id:this.props.id,rank:this.props.rank,children:[Object(b.jsx)(v,{rank:this.props.rank,vote:this.props.vote,id:this.props.id}),Object(b.jsx)(y,{children:this.props.text}),Object(b.jsx)(w,{children:Object(b.jsx)("i",{className:this.getEmoji()})})]})}}]),n}(a.Component),_=(n(45),n(32)),C=n.n(_),J=n(33),S=n.n(J),I=f.a.i.withConfig({displayName:"Main__LoadingIcon",componentId:"sc-o4rame-0"})(["font-size:3rem;animation:spin 1s linear infinite;@keyframes spin{0%{transform:rotate(0deg) scale(1);}50%{transform:rotate(180deg) scale(1.5);}100%{transform:rotate(360deg) scale(1);}}"]),L=function(e){Object(k.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(p.a)(this,n),a=t.call(this,e),localStorage.jokes0811?a.state={jokes:JSON.parse(localStorage.jokes0811),isLoaded:!0}:a.state={jokes:[],isLoaded:!1},a.vote=a.vote.bind(Object(u.a)(a)),a.handleClick=a.handleClick.bind(Object(u.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){if(!this.state.isLoaded)try{this.getJokes()}catch(e){console.error(e)}}},{key:"getJokes",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d.a.mark((function e(t){var i,s,o,r,c,h,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("".concat("https://icanhazdadjoke.com/"),{headers:{Accept:"application/json","User-Agent":"https://andrewhuntington.github.io/dad-jokes-app/"}});case 2:if(i=e.sent,s=i.data,o=s.id,r=s.joke,c=s.status,h=s.rank,p=void 0===h?0:h,200===c){e.next=6;break}throw new Error("Status: ".concat(c));case 6:a.checkForDuplicateJokes(o)?(t--,!1):a.setState((function(e){return{jokes:[].concat(Object(l.a)(e.jokes),[{id:o,joke:r,rank:p}])}})),n=t;case 9:case"end":return e.stop()}}),e)})),n=0;case 2:if(!(n<10)){e.next=7;break}return e.delegateYield(t(n),"t0",4);case 4:n++,e.next=2;break;case 7:this.confirmLoaded();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"confirmLoaded",value:function(){this.setState({isLoaded:!0}),localStorage.setItem("jokes0811",JSON.stringify(this.state.jokes))}},{key:"handleClick",value:function(){this.getJokes()}},{key:"checkForDuplicateJokes",value:function(e){var t,n=Object(r.a)(this.state.jokes);try{for(n.s();!(t=n.n()).done;){if(e===t.value.id)return!0}}catch(a){n.e(a)}finally{n.f()}return!1}},{key:"vote",value:function(e,t){var n=this.state.jokes.filter((function(t){return t.id===e}))[0];"up"===t?n.rank+=1:n.rank-=1,this.setState((function(e){return{jokes:Object(l.a)(e.jokes)}})),localStorage.setItem("jokes0811",JSON.stringify(this.state.jokes))}},{key:"render",value:function(){var e=this,t=S.a.sortBy(this.state.jokes,["rank"]).map((function(t){return Object(b.jsx)(N,{id:t.id,text:t.joke,rank:t.rank,vote:e.vote},t.id)})).reverse();return Object(b.jsx)(b.Fragment,{children:this.state.isLoaded?Object(b.jsxs)("div",{className:"Main",children:[Object(b.jsxs)("div",{className:"Main-sidebar",children:[Object(b.jsxs)("h1",{children:["Dad ",Object(b.jsx)("span",{className:"Main-thin-text",children:"Jokes"})]}),Object(b.jsx)("div",{className:"Main-smiley",children:Object(b.jsx)("i",{className:"em-svg em-joy"})}),Object(b.jsx)("button",{className:"Main-button",onClick:this.handleClick,children:"New Jokes"})]}),Object(b.jsx)("div",{className:"Main-jokelist",children:Object(b.jsx)("ul",{children:t})})]}):Object(b.jsxs)("div",{className:"Main-loading",children:[Object(b.jsx)("h2",{children:"Loading..."}),Object(b.jsx)(I,{className:"far fa-grin-squint-tears"})]})})}}]),n}(a.Component);n(65);var M=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(L,{})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),s(e),o(e)}))};o.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(M,{})}),document.getElementById("root")),z()}},[[66,1,2]]]);
//# sourceMappingURL=main.4ac183d7.chunk.js.map